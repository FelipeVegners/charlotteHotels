function filterByPrice(t,e){$("#hotelList  article").fadeOut().filter(function(){var a=parseInt($(this).attr("data-price"),10);return a>=t&&a<=e}).fadeIn()}$(".searchHotels").prop("disabled",!0),$("#calendarContainer").flatpickr({minDate:"today",inline:!0,mode:"range",dateFormat:"Y-m-d",onChange:function(t,e,a,i){checkInOutDate=e.split("/"),1==t.length&&($("#checkIn").text(checkInOutDate[0]),$("#dateStart").text(checkInOutDate[0])),2==t.length&&($("#checkOut").text(checkInOutDate[1]),$("#dateEnd").text(checkInOutDate[1]+":"),$(".searchHotels").prop("disabled",!1)),date1=checkInOutDate[0],date2=checkInOutDate[1]},onReady:function(t,e,a){var i=$(a.calendarContainer);$(".newDates").on("click",function(){a.clear(),a.close(),$("#checkIn").text("Choose a date"),$("#checkOut").text("Choose a date")})}}),$(".searchHotels").on("click",function(){$("#hotelList").html(""),$(".resultsSection").fadeIn(),$("html, body").animate({scrollTop:$(".resultsSection").offset().top},650),$.getJSON("http://www.raphaelfabeni.com.br/rv/hotels.json",function(t){function e(t,e){return t.price>e.price?1:-1}var a=$(t.hotels).sort(e);$.each(a,function(t,e){var a='<span id="hotelStars" class="fa fa-star starRating-'+this.rate+'"></span>',i="";$(this.price_history).each(function(){i+="<p>"+this.month+"</p>"});var r="";$(this.price_history).each(function(){r+='<div class="priceBar '+this.month+'" data-tooltip="$'+this.value+'" style="height: '+this.value/8+'%;"></div>'});var s=parseInt(date1.replace(/^\D+|\D.*$/g,""),10),n=parseInt(date2.replace(/^\D+|\D.*$/g,""),10),o=n-s+1,c='<article id="hotelInfo" class="hotelInfoWrapper" data-rating="'+this.rate+'" data-price="'+this.price+'"><div class="imgCtn"><img src="'+this.image+'" alt=""></div><div class="hotelInfo">'+a+"<h1>"+this.name+"</h1><p>"+this.description+'</p><button class="bookNow">Book now</button><button value="'+t+'" class="priceHistory">Price history</button></div><div class="hotelPrice"><small>Total for '+o+' nights</small><h2 class="price">$'+parseFloat(this.price*o).toFixed(2).toString()+'</h2></div><div id="modal_'+t+'" class="modalCtn"><div class="modalWrapper"><div class="modalTextWrapper"><h2>Price History for 2017</h2><span class="backDescription"></span></div><div class="chartWrapper">'+r+'</div><div class="months">'+i+"</div>";$("#hotelList").on("click",".priceHistory",function(t){$("#modal_"+$(this).prop("value")).show("slide",{direction:"left"},300)}),$(c).hide().appendTo("#hotelList").fadeIn(400)}),$(".backDescription").on("click",function(t){$(t.target).closest(".modalCtn").hide("slide",{direction:"left"},300)})})}),$(".starRating").rating(function(t,e){$("#hotelList  article").each(function(){var e=$(this).attr("data-rating"),a=$("#hotelList  article").filter(function(){return $(this).attr("data-rating")==t}),i=$("#hotelList  article").filter(function(){return $(this).attr("data-rating")!=t});if(t==e&&(i.fadeOut(300),a.fadeIn(300)),0==a.length)return $(".sorryModal p").text("Sorry, there's 0 hotels with "+t+" star rating."),$(".sorryModal").animate({top:"0",opacity:1},450),$(".sorryModal").delay(4e3).animate({top:"-=100%",opacity:0},650),!1})}),$("#sliderRange").slider({range:!0,min:100,max:600,step:10,values:[100,600],slide:function(t,e){var a=e.values[0],i=e.values[1];$("#lowPrice").val("$"+e.values[0]),$("#highPrice").val("$"+e.values[1])},stop:function(t,e){min=$("#sliderRange").slider("values",0),max=$("#sliderRange").slider("values",1),filterByPrice(min,max)}});